<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='trending.css') }}"> <!-- Re-using trending.css for book card layout -->
    <link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}">
    <title>The Grey Ink | My Books</title>
</head>
<body>
    <div class="bg">
        <div class="main-header-section">
            <a href="{{ url_for('index') }}" class="logo-link">
                <img src="{{ url_for('static', filename='assets/logo21.png') }}" class="logo" alt="The Grey Ink Logo">
                <h1><a href="{{ url_for('index') }}">The Grey Ink</a></h1>
            </a>
            <nav class="main-nav">
                <ul>
                    <li><a href="{{ url_for('category') }}">Categories</a></li>
                    <li><a href="{{ url_for('trending') }}">Trending</a></li>
                    {% if 'user' in session %}
                        <li><a href="{{ url_for('profile') }}">Profile</a></li>
                        <li><a href="{{ url_for('logout') }}" class="black-box">Logout</a></li>
                    {% else %}
                        <li><a href="{{ url_for('signup') }}" class="black-box">Sign Up</a></li>
                    {% endif %}
                </ul>
            </nav>
        </div>

        <div class="container">
            <h2 class="section-title">My Books</h2>
            <hr class="hr-line">
            {% if saved_books %}
                <div class="trending-books-grid">
                    {% for book in saved_books %}
                        <div class="book-card">
                            <img src="{{ book['Image-URL-M'] }}" alt="Cover for {{ book['Book-Title'] }}">
                            <h3>{{ book['Book-Title'] }}</h3>
                            <p><em>{{ book['Book-Author'] }}</em></p>
                            <form action="{{ url_for('remove_from_my_books') }}" method="POST" style="margin-top: auto;">
                                <input type="hidden" name="book_title" value="{{ book['Book-Title'] }}">
                                <button type="submit" class="remove-book-button">Remove</button>
                            </form>
                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <div style="text-align: center; padding: 40px; font-size: 1.2rem;">
                    <p>You haven't saved any books yet.</p>
                    <p>Click the "Save" button on any book to add it to your collection.</p>
                </div>
            {% endif %}
        </div>
    </div>
</body>
</html>